<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Details</title>
    <link rel="stylesheet" href="./css/styles.css"> <!-- Assuming your styles are in this CSS file -->
</head>
<body>
    <!-- Navbar for Uniform Styling -->
    <header class="navbar">
        <div class="logo">
            <a href="#">
                <img src="./img/logo.png" alt="Real Estate Logo" width="50" height="50">
            </a>
        </div>
        <nav class="menu">
            <a href="index.html">Home</a>
            <a href="properties.html">Properties</a>
            <a href="contact.html">Contact Us</a>
        </nav>
    </header>

    <!-- Details Section with Parallax Effect -->
    <section class="details-container" style="background-image: url('../img/test.png'); background-attachment: fixed; background-size: cover;">
        <div class="content-wrapper">
            <img id="propertyImage" src="" alt="Property Image">
            <h1 id="propertyName">Property Name</h1>
            <p id="propertyDescription">Full description of the property will go here, giving potential buyers more details.</p>

            <div class="attributes-section">
                <div class="attribute-item">
                    <span id="propertyOrigin">---</span>
                    <div>Origin</div>
                </div>
                <div class="attribute-item">
                    <span id="propertyRoastedIn">---</span>
                    <div>Roasted In</div>
                </div>
                <div class="attribute-item">
                    <span id="propertyType">---</span>
                    <div>Type</div>
                </div>
                <div class="attribute-item">
                    <span id="propertyCaffeinated">---</span>
                    <div>Caffeinated</div>
                </div>
            </div>

            <a href="index.html" class="back-button">Back to Listings</a>
            <button class="book-button" onclick="openModal()">Book Viewing</button>
        </div>
    </section>

    <!-- Booking Modal -->
    <div class="modal" id="bookingModal">
        <div class="modal-content">
            <button class="close-button" onclick="closeModal()">Ã—</button>
            <h2>Book Viewing</h2>
            <form id="bookingForm" onsubmit="submitBooking(event)">
                <label for="name">Name</label>
                <input type="text" id="name" name="name" required>
                
                <label for="email">Email</label>
                <input type="email" id="email" name="email" required>
                
                <label for="phone">Phone</label>
                <input type="tel" id="phone" name="phone" required>
                
                <button type="submit" class="submit-button">Submit</button>
            </form>
        </div>
    </div>

    <script src="./js/script.js"></script>
    <script>
        // Retrieve the selected property from sessionStorage
        const selectedProperty = JSON.parse(sessionStorage.getItem('selectedProperty'));

        // Display property details
        if (selectedProperty) {
            document.getElementById('propertyImage').src = selectedProperty.featuredImage || selectedProperty.featuredMedia;
            document.getElementById('propertyName').textContent = selectedProperty.name;
            document.getElementById('propertyDescription').textContent = selectedProperty.description;
            document.getElementById('propertyOrigin').textContent = selectedProperty.origin || "N/A";
            document.getElementById('propertyRoastedIn').textContent = selectedProperty.roastedIn || "N/A";
            document.getElementById('propertyType').textContent = selectedProperty.type || "N/A";
            document.getElementById('propertyCaffeinated').textContent = selectedProperty.caffeinated || "N/A";
        }

        // Function to open the modal
        function openModal() {
            document.getElementById('bookingModal').style.display = 'flex';
        }

        // Function to close the modal
        function closeModal() {
            document.getElementById('bookingModal').style.display = 'none';
        }

        // Function to handle form submission
        function submitBooking(event) {
            event.preventDefault();
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const phone = document.getElementById('phone').value;

            alert(`Thank you, ${name}! Your viewing has been booked. We will contact you at ${email} or ${phone} to confirm.`);
            closeModal();
            document.getElementById('bookingForm').reset();
        }
    </script>
</body>
</html>
